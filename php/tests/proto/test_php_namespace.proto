syntax = "proto3";

package foo;
option php_namespace = "Php\\Test";
option php_metadata_namespace = "Metadata\\Php\\Test";

message TestNamespace {
  int32 a = 1;
  NestedEnum nested_enum = 2;
  NestedMessage nested_message = 3;

  enum NestedEnum {
      ZERO = 0;
      ONE  = 1;
      TWO  = 2;
      ECHO = 3;  // Test reserved name.
  };

  // Test nested messages
  message NestedMessage {
    NestedMessage nested_message = 2;

    message NestedMessage {
        int32 a = 1;
    }
  }
}
